# Visualize on https://erd.surge.sh
# or https://quick-erd.surge.sh
#
# Relationship Types
#  -    - one to one
#  -<   - one to many
#  >-   - many to one
#  >-<  - many to many
#  -0   - one to zero or one
#  0-   - zero or one to one
#  0-0  - zero or one to zero or one
#  -0<  - one to zero or many
#  >0-  - zero or many to one
#
////////////////////////////////////


user
----
id integer PK
username varchar(255) unique
hash_password char(60)
money integer
created_at timestamp
updated_at timestamp


attribute
---------
id integer PK
name varchar(255) unique
base_max_value integer
base_rate_of_change decimal
created_at timestamp
updated_at timestamp


personality
-----------
id integer PK
name varchar(255) unique
created_at timestamp
updated_at timestamp


skill
-----
id integer PK
name varchar(255) unique
description text
upgrade_exp integer NULL
created_at timestamp
updated_at timestamp


level
-----
id integer PK
min_exp integer unique
created_at timestamp
updated_at timestamp


evolution
---------
id integer PK
name varchar(255) unique
age_requirement integer
level_requirement integer
requirement1 integer FK >- attribute.id
requirement1_value integer
requirement2 integer NULL FK >- attribute.id
requirement2_value integer NULL
created_at timestamp
updated_at timestamp


item
----
id integer PK
name varchar(255) unique
cost integer
created_at timestamp
updated_at timestamp


event
-----
id integer PK
name varchar(255) unique
description text
created_at timestamp
updated_at timestamp


slime
-----
id integer PK
owner_id integer FK >- user.id
name varchar(255)
date_of_birth timestamp
generation integer
exp integer
personality_id integer FK >- personality.id
evolution_id integer NULL FK >- evolution.id
is_dead boolean
is_busy boolean
created_at timestamp
updated_at timestamp


slime_attributes
----------------
id integer PK
slime_id integer FK >- slime.id
attribute_id integer FK >- attribute.id
max_value integer
current_value integer
rate_of_change decimal
created_at timestamp
updated_at timestamp


slime_skills
------------
id integer PK
slime_id integer FK >- slime.id
skill_id integer FK >- skill.id
exp integer
created_at timestamp
updated_at timestamp


slime_items
-----------
id integer PK
slime_id integer FK >- slime.id
item_id integer FK >- item.id
created_at timestamp
updated_at timestamp


slime_events
------------
id integer PK
slime_id integer FK >- slime.id
event_id integer FK >- event.id
created_at timestamp
updated_at timestamp


skill_attributes
----------------
id integer PK
skill_id integer FK >- skill.id
attribute_id integer FK >- attribute.id
max_value_mod integer
rate_of_change_mod decimal
created_at timestamp
updated_at timestamp


personality_attributes
----------------------
id integer PK
personality_id integer FK >- personality.id
attribute_id integer FK >- attribute.id
max_value_mod integer
rate_of_change_mod decimal
created_at timestamp
updated_at timestamp


event_attributes
----------------
id integer PK
event_id integer FK >- event.id
attribute_id integer FK >- attribute.id
current_value_mod integer
max_value_mod integer
rate_of_change_mod decimal
timeout integer
created_at timestamp
updated_at timestamp


item_attributes
---------------
id integer PK
item_id integer FK >- item.id
attribute_id integer FK >- attribute.id
current_value_mod integer
max_value_mod integer
rate_of_change_mod decimal
timeout integer
created_at timestamp
updated_at timestamp


evolution_attributes
--------------------
id integer PK
evolution_id integer FK >- evolution.id
attribute_id integer FK >- attribute.id
max_value_mod integer
rate_of_change_mod decimal
created_at timestamp
updated_at timestamp


level_attributes
----------------
id integer PK
level_id integer FK >- level.id
attribute_id integer FK >- attribute.id
max_value_mod integer
created_at timestamp
updated_at timestamp


# zoom: 0.798
# view: (-7, 39)
# user (879, -19)
# attribute (750, 241)
# personality (392, -21)
# skill (1135, -18)
# level (189, -21)
# evolution (305, 773, #b0b0b0)
# item (639, -21)
# event (308, 584, #b0b0b0)
# slime (443, 211)
# slime_attributes (777, 429)
# slime_skills (184, 377)
# slime_items (185, 191)
# slime_events (96, 583, #b0b0b0)
# skill_attributes (1108, 241)
# personality_attributes (1113, 713)
# event_attributes (40, 771, #b0b0b0)
# item_attributes (1107, 441)
# evolution_attributes (37, 1030, #b0b0b0)
# level_attributes (776, 664)
